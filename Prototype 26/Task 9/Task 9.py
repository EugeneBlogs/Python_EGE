# Условие задания КИМ 26 (Умскул, ЕГЭ 2025):
'''
В магазине для упаковки подарков есть "N" кубических коробок красного цвета и "M" кубических коробок зеленого цвета
("N > M"). Самой интересной считается упаковка подарка по принципу матрешки - подарок упаковывается в одну из коробок,
та в свою очередь в другую коробку и т. д., при этом цвет коробок чередуется. Одну коробку можно поместить в другую,
если длина её стороны хотя бы на 5 единиц меньше длины стороны другой коробки.
Определите наибольшее количество коробок, которое можно использовать для упаковки одного подарка,
и максимально возможную длину стороны самой маленькой коробки, где будет находиться подарок.
Размер подарка позволяет поместить его в самую маленькую коробку.

Входные данные:
В первой строке входного файла находятся число "N" - количество коробок красного цвета в магазине
(натуральное число, не превышающее 10000) и через пробел число "M" - количество коробок зеленого цвета в магазине
(натуральное число, не превышающее 10000). В следующих "N" строках находятся значения длин сторон коробок красного цвета
(все числа натуральные, не превышающие 10000) и через знак табуляции значения длин сторон коробок зеленого цвета
(все числа натуральные, не превышающие 10000), каждая пара таких значений в отдельной строке;
в последних "N–M" строках второе число опускается, и числа, соответствующие длинам сторон коробок красного цвета,
идут каждое в отдельной строке.

Запишите в ответе два целых числа: сначала наибольшее количество коробок, которое можно использовать для упаковки
одного подарка, затем максимально возможную длину стороны самой маленькой коробки в таком наборе.

Типовой пример организации данных во входном файле:
5 4
39 55
40 42
44 44
40 55
50
Пример входного файла приведён для случая пяти коробок красного цвета и четырёх коробок синего цвета,
когда минимальная допустимая разница между длинами сторон коробок, подходящих для упаковки «матрёшкой»,
составляет 3 единицы. При таких исходных данных условию задачи удоавлетворяюь наборы коробок с длинами сторон
39, 42, 50 и 55 или 40, 44, 50 и 55 соответственно, т. е. количество коробок равно 4, а длина стороны самой маленькой
коробки равна 40.

ПРИМЕЧАНИЕ: Файл для задачи неофициальный, он был восстановлен искусственно с помощью рандомайзера.
'''

f = open("9.txt")
# Считываем первые два числа - количество красных ("N") и зелёных ("M") коробок
N, M = map(int, f.readline().split())
boxes = []  # Создаем список для хранения всех коробок с их цветами

# Считываем данные о коробках, где есть и красные, и зелёные (первые "M" строк)
for i in range(M):
    red, green = map(int, f.readline().split())
    boxes.append([red, "red"])  # Добавляем красную коробку
    boxes.append([green, "green"])  # Добавляем зелёную коробку

# Читаем оставшиеся только красные коробки ("N-M" строк)
for i in range(N - M):
    red = int(f.readline())
    boxes.append([red, "red"])
boxes.sort(reverse=True)  # Сортируем все коробки по убыванию размера

gift = [boxes[0]]  # Начинаем формировать подарок с самой большой коробки
# Проходим по всем коробкам и пытаемся добавить их в подарок
for box in boxes:
    # Проверяем условия:
    # 1. Разница размеров >= 5
    # 2. Цвет текущей коробки должен отличаться от последней в подарке
    if gift[-1][0] - box[0] >= 5 and gift[-1][1] != box[1]:
        gift.append(box)

# Выводим результаты:
print(len(gift))  # 1. Количество коробок в максимальном наборе
print(gift[-1][0])  # 2. Размер самой маленькой коробки в наборе (последний элемент)
